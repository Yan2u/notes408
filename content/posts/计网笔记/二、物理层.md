---
title: 二、物理层
date: 2025-03-14T10:09:46.254223+08:00
tags: ['计网笔记']
author: "Yan2u"
ShowReadingTime: true
ShowBreadCrumbs: true
ShowPostNavLinks: true
showToc: true
TocOpen: false
ShowWordCount: true
UseHugoToc: true
---

### 1. 通信基础

#### 1.1. 一些基本概念

- **信道**：向某个方向传输信息的媒体；

- **信号**：数据表现为电磁或电气的形式；

- **带宽**：信道中信号可使用的最高频率和最低频率之差，单位 Hz；

	- 也可指信道中数据的传输速率，单位 bps；

- **码元**：模拟信号代表不同离散数值的基本波形（时域）；

- **波特率**：单位时间内传输的**码元**数，单位波特（Baud）；

- **比特率**：单位时间内传输的**比特**数；

- **信源和信宿**：字面意思，信号的源端和目标端；

#### 1.2. 奈奎斯特定理 & 香农定理

- **奈奎斯特定理**：**无噪声情况下**，**码元传输速率**的最大值 B 和信道带宽 H 之间满足：$B=2H$；

	- 转换到**最大比特率**：$C=2H\log_2 N=B\log_2 N$  (bps)

	- 二进制意义下，$\log_2 N$ 为一个码元所能表示的 bit 个数；

		- e.g. 二进制传输，若只有两种码元则 $\log_2 N=1$，若有四种码元，则 $\log_2 N=2$；

- **香农定理**：带噪声的信道容量：$C=H\log_2 (1+S/N)$ (bps)

	- $S$ 信号功率，$N$ 噪声功率，$S/N$ 信噪比，单位通常为分贝 dB；

	- 比值 $\leftrightarrow$ 分贝：$\mathrm{dB}\leftrightarrow10\log (S/N)$；

#### 1.3. 编码与调制

- 基本的二进制调制方法（了解）：幅度调制 AM，频率调制 FM，相位调制 PM；

- **编码**：用不同极性和幅度的电压来表示数字 0 和 1，反之为解码；

	![img_1YyVcejHCw](https://cloudflare-imgbed-ajc.pages.dev/file/1741871679570_1YyVcejHCw.png)
	![img_tczJXyIkMe](https://cloudflare-imgbed-ajc.pages.dev/file/1741871687443_tczJXyIkMe.png)
	![img_vHJs7807rs](https://cloudflare-imgbed-ajc.pages.dev/file/1741871688289_vHJs7807rs.png)

	- **非归零编码（NRZ）**：负电压表示 0，正电压表示 1，中间不会回到 0；

	- **归零编码**：用负和正**脉冲**代表数字 0 和 1，会回到 0 值；

		- 具有同步功能，可以鉴别信号丢失；

	- **曼彻斯特编码（⭐）**：用**电压跳变**代表数字 0 和 1，低到高为 1，高到低为 0；

		- 降低了信号的直流分量；

		- 跳变自身可作为时钟信号，无需额外同步信号，降低了成本；

	- **差分曼彻斯特编码（⭐）**：

		- **每个时钟周期的中间发生一次跳变**，作为同步；

		- 每个时钟周期起始，若跳变，则是 0，不跳变则是 1；

#### 1.4. 电路、报文和分组交换

- **电路交换**

	- 建立：传输任何数据前，都要建立一条**端到端**的电路（物理）；

	- 传输：传输过程中，收发者独占线路，电路必须保持连接；

	- 拆除：传输完成后，解除该线路连接，释放接线资源；

	- 优点：传输效率高；

	- 缺点：资源利用率低，价格昂贵；

	- e.g. 早期的电报和电话接线员（交换机是直接控制物理电路通断）

		![img_dOOTQKMmaO](https://cloudflare-imgbed-ajc.pages.dev/file/1741871694116_dOOTQKMmaO.png)

- **报文交换**

	- 数据传输单位变为**一段报文**；

		- 报文：是**站点一次要发送**的数据块，长度不限且可变；

	- 站点节点根据报文的地址信息逐节点传输报文；

	- 站点是**存储转发机制**：收到报文后先暂存，再查询地址信息并转发；

	- 端到端之间**无需事先建立连接**；

- **分组交换**：改进的报文交换机制；

	- 将报文**分成若干组**，每组有长度上限；

	- 分组可以存放至内存，提高存储转发的交换速度；

	- 适用于交互式通信（如：终端和主机）

	- **每一个分组前面都要添加首部信息**（含有地址等控制信息）；

	- 交换机转发分组也是**存储转发**机制；

	- 优点

		- **高效**：动态分配传输带宽，对通信链路是逐段占用；

		- **灵活**：数据传输和路由查找单位为分组；

		- **迅速**：不必事先建立连接；

		- **可靠**：采用较为可靠的网络协议；

		- **生存性**：分布式的路由选择协议；

	- 缺点

		- **时延**：数据在路由节点存储转发时可能会排队，产生延迟；

		- **额外开销**：每个分组都带有首部信息；

- **Internet 的核心是大量路由器组成的分组交换网络，终端主机处在 Internet 体系的边缘部分；**

	![img_AHYyfBlHTy](https://cloudflare-imgbed-ajc.pages.dev/file/1741871700463_AHYyfBlHTy.png)

- 三种交换方式对比

	![img_LAAMYhM0TB](https://cloudflare-imgbed-ajc.pages.dev/file/1741871705250_LAAMYhM0TB.png)

	- **电路交换**：主要时延在于**建立连接**；

	- **报文交换**：发送和接收一整个报文的时间较长；

	- **分组交换**：分组后可以流水线并行收发，提高了传输效率；时延主要在于最后一个分组；

#### 1.5. 数据报和虚电路

- **虚电路服务**：一种面向连接的通信方式；

	![img_icuSzt6uMQ](https://cloudflare-imgbed-ajc.pages.dev/file/1741871714784_icuSzt6uMQ.png)

	- **事先规定收发端的数据经过哪几个特定的路由器，形成一个链路；**

	- 所有的分组都按照此链路进行传输；

	- 选择合适的网络传输协议，可实现分组的按序收发；

	- **虚电路 vs. 电路交换**：前者是逻辑上的连接，只是一种约定。而后者是物理上的电路；

- **数据报服务**：灵活的，无连接的，尽最大努力交付的数据传输服务；

	![img_wpWnhdl1bc](https://cloudflare-imgbed-ajc.pages.dev/file/1741871730425_wpWnhdl1bc.png)

	- 网络层向上提供；

	- 网络层发送分组时，**每个分组独立，选择任一链路传输，且不会事先建立连接；**

	- **网络层不保证传输质量和传输时延**，即传输数据可能丢失，重复或乱序（到达收端时）

- 对比

	![img_rHYB43jKYx](https://cloudflare-imgbed-ajc.pages.dev/file/1741871738605_rHYB43jKYx.png)

	- **虚电路的缺点主要在于**：一个节点故障会导致整条链路失效，而数据报服务可能只会导致部分分组丢失；

### 2. 传输介质

#### 2.1. 常见传输介质

- 有导引的传输介质：双绞线，同轴电缆，光纤；

	![img_Sd49xt3qe0](https://cloudflare-imgbed-ajc.pages.dev/file/1741871749733_Sd49xt3qe0.png)
	![img_A6gAZUlZsH](https://cloudflare-imgbed-ajc.pages.dev/file/1741871756607_A6gAZUlZsH.png)

	- **双绞线**：屏蔽双绞线 STP，无屏蔽双绞线 UTP；

	- **同轴电缆**：50 $\Omega$，75 $\Omega$；

	- **光纤**：单模，多模；

- 无导引的传输介质：无线传输介质（波）；

	- 短波通信；

	- 微波通信；

		- WIFI

		- 3G，4G，5G

#### 2.2. 物理层接口特性

- **定义**：机械特性，电气特性，功能特性，过程特性；

	- **机械特性**：接口的形状尺寸，引脚引线和一些机械装置；

	- **电气特性**：接口电缆的各条线上的电压范围；

	- **功能特性**：某条线上的某一电平表示何种意义；

	- **过程特性**：对于不同功能的各种可能事件的出现顺序（也称为时序）；

### 3. 物理层设备

#### 3.1. 中继器

- 物理层连网设备，属于物理层的中间系统；

- **作用**：把一根线缆中的电或光信号传递给另一根线缆，不进行路由选择和分组过滤；

- **用途**：以太网扩充。延长以太网通信介质的长度，扩大以太网覆盖范围；

- 中继器不仅传送有用信号，同时**也传送噪音和冲突信号**，因而**互相串联的中继器个数有一定限制**；

#### 3.2. 集线器

- 共享式以太网集线器（hub），类似于多端口的中继器，用于**星型网络拓扑**；

- **作用**：不解释数据，**从一个网段接收信号，将其再生后中继到其他的网段**；

- 集线器的以太网在逻辑上仍然是一个总线网，各个工作站使用的还是CSMA/CD协议，共享逻辑上的总线及其带宽；

- **集线器连接的设备处于同一个广播域和冲突域（⭐）**；

- **优点**：扩大了局域网覆盖的范围，使得不同计算机能够进行跨域通信；

- **缺点（⭐）**

	- 增大了冲突域，但总吞吐量未提高；

	- 若要连接的两个冲突域的数据率不同，不能使用集线器连接；

