---
title: 错题
date: 2025-07-22T21:09:10.879768+08:00
tags: ['组原笔记', '错题.md']
url: /posts/BOJbTTsa9f
author: "Yan2u"
IsPost: true
ShowReadingTime: true
ShowBreadCrumbs: true
ShowPostNavLinks: true
showToc: true
TocOpen: false
ShowWordCount: true
UseHugoToc: true
---

<a href="/notes408/chapters_index"> Indexes </a> > <a href="/notes408/indexes/5RoFxkg3V7"> 组原笔记 </a> > 错题

### 三、存储器系统

#### 1.

在对破坏性读出的存储器进行读写操作时，为维持原存信息不变，必须辅以的操作是（）

- A. 刷新；

- B. 再生；

- C. 写保护；

- D. 主存校验；

- **答案**：B；

- **我的**：A；

- **解析**：区分 DRAM 存储器的**刷新、再生、重写**三个操作：

  |     操作     |        刷新        |           再生           |         重写         |
  | :----------: | :----------------: | :----------------------: | :------------------: |
  |     原因     |  电容电荷自然泄漏  | **读操作会导致电荷丢失** |   用户主动修改数据   |
  |   执行时机   | 周期性（存取周期） |       每次读操作后       |    用户或程序触发    |
  |     范围     |    全局逐行刷新    |  局部 (仅被读取的单元)   | 局部 (目标地址单元)  |
  |   用户干预   |   由硬件自动完成   |      由硬件自动完成      | 由用户或程序主动发起 |
  | 对数据的影响 |  维持原有数据不变  |     维持原有数据不变     |   覆盖原数据为新值   |

#### 2.

下列关于主存储器的描述中，正确的是（）

Ⅰ.CPU 访存时间由存储器容量决定
Ⅱ.ROM 和RAM 在存储器中是统一编址的
Ⅲ.ROM 中任意一个单元可以随机访问
Ⅳ.DRAM 是破坏性读出,因此需要读后重写

- **答案**：Ⅱ Ⅲ；
- **我的**：Ⅱ Ⅲ Ⅳ；
- **解析**：见题 1，Ⅳ 应该是**读后再生**；

#### 3.

Cache 分为指令区和数据区。读写时间 20ns，主存 120ns。取指令的命中率为98%，取数据的命中率为95%。在执行程序时，约有1/5的指令需要存取一个操作数。假设指令流水线在任何时刻都不阻塞，Cache 不命中时才启动主存。问设置Cache后，与无Cache比较，运算速度可提高多少倍？

- **答案**：4.22；
- **我的**：4.33；
- **解析**：
  - 主要是错在 (1) 对**平均指令访存时间**的理解。误把存取操作数的一条指令当作两条来计算，导致结果偏大，(2) "Cache 不命中时才启动主存" 说明**二者不是同时访存，套公式时不能用 $ht_C$ 而要用 $t_C$；**
  - **我的思路**：程序约有 1/5 的指令带一个存取操作数，所以总共有 5/6 的指令是取指，有 1/6 的是取数。这里**把指令附带的取数单独算成一条指令，导致指令总数增多，导致错误**；
  - 正确思路：指令总数不变。先计算带 Cache 取指和取数的平均访存时间 $t_I$ 和 $t_N$，可以套命中率公式求得；
    - 带 Cache 情况下，平均访存时间 $t_C=t_I+1/5t_N=27.6$ ns；
    - 不带 Cache 情况下，平均访存时间 $t=t_M\times(1+1/5)=144$ ns；
    - 所以加速比 $144/27.6-1$，约为 4.22；

#### 4.

下图是某存储芯片的引脚图，请回答：(1) 这个存储芯片的类型 (是RAM 还是ROM) ? 这个存储芯片的容量？(2) 若地址线增加一根,存储芯片的容量将变为多少？

![image-20250322214245885](https://cloudflare-imgbed-ajc.pages.dev/file/1742650971988_image-20250322214245885.png)

- **答案**：(1) DRAM，容量 64K；(2) 变为 256K；
- **我的**：(1) 容量 256，(2) 容量512；
- **解析**：主要是错在没有考虑 DRAM 的重合法地址译码，即行列地址复用方式，导致容量判断偏小；
  - **判断该芯片为 DRAM**：图中 CAS 为列地址选通 (Column Address Strobe) ，RAS 为行地址选通 (Row ...)，所以该芯片是**行列地址分时复用**的编址方式，是**典型的 DRAM 芯片**；
  - **RAS 和 CAS 的作用**：通过使能 RAS 和 CAS **前后分别传送行列地址**，使得**仅需 $n$ 位地址线就可操作 $2n$ 位地址数量的内存单元**，因此 DRAM 芯片的地址线数量是同样单元数量 SRAM 的**一半**；
  - 反推之，若 DRAM 芯片有 $n$ 位地址线，则其单元数量为 $N=2^{2n}$；
  - 1）图中地址线数量为 8，所以容量 $N=2^{16}=64K$，MDR 为 1 位；
  - 2）若地址线加一根，则容量 $N'=2^{2\times9}=2^{18}=256K$；

### 四、指令系统

#### 1.

一台模型机有 8 位和 16 位两种指令字长，采用2—4扩展操作码。8 位字长指令为寄存器—寄存器 (R—R) 二地址类型，16位字长指令为寄存器—存储器 (R—M) 二地址变址类型 (地址码范围在-128~127之间)。

- 4.1. 设计该机器的两种指令格式，给出各字段的位长；
- 4.2. 该机器最多有多少个通用寄存器，多少个变址寄存器？

- **答案**：(1) 8 位指令为 2+3+3，16 位指令为 4+1+3+8（1 为变址寄存器编号）；(2) 8 个和 2 个；
- **我的**：(1) 8 位指令为 4+2+2，16 位指令为 4+4+8（4 为变址寄存器号）；(2) 4 个和 16 个；
- **解析**：两个关键点：1）**理解 2—4 扩展操作码的意思**，2）第一小题和第二小题是相互联系的，**第一小题的寄存器在第二小题也要考虑**（毕竟都是一个机器）；
  - **2—4 扩展操作码**：在本题中指，**短指令采用 2 位操作码，长指令采用 4 位操作码**，可以将地址码扩展为操作码；
  - 所以对于 8 位短指令，2 位操作码 + 2 段寄存器地址码，即寄存器地址码为 3 位，最多 8 个；
  - **第二小问是在第一小问的基础上**，即第一小问的 8 个寄存器在第二小问也要体现，因此**要预留 3 位作为寄存器地址码**；
  - 长指令 4 位操作码，存储器地址码 8 位，所以变址寄存器地址码只有 16-8-4-3 = 1 位，最多 2 个；

### 五、CPU 系统

#### 1.

在CPU 的寄存器中，对用户透明的是（）

- A. 程序计数器；
- B. 状态寄存器；
- C. 指令寄存器；
- D. 通用寄存器；
- **答案**：C；
- **我的**：D；
- **解析**：**透明的意思就是用户不可见，不可操作，而不是可见和可操作！！**，看**第一节 3.7 的表**即可得出答案；

#### 2.

以下说法中错误的是（）

- A. 指令执行过程中的第一步就是取指令操作
- B. 为了进行取指令操作,控制器需要得到相应的指令
- C. 取指令操作是控制器自动进行的
- D. 在指令长度相同的情况下,所有取指令的操作都是相同的
- **答案**：B；
- **我的**：C；
- **解析**：取指令操作确实是控制器自动进行的，不需要得到相应的指令，所以选 B；

#### 3.

在组合逻辑控制器中，微操作控制信号的形成主要与（）信号有关

- A. 指令操作码和地址码
- B. 指令译码信号和时钟
- C. 操作码和条件码
- D. 状态信号和条件
- **答案**：B
- **我的**：C
- **解析**：
  - A. 地址码不需要；
  - C. 条件码主要是对状态位进行判断，影响的是控制器宏观的行为（即**形成哪些**微操作信号），和**如何形成**无关；

#### 4.

某模型机 CPU 主要部件如图

![img](https://lian.koolearn.com/upload/image/1501554310488.png)

拟出指令 `SUB(R1), -(R2)` 的执行流程 (含取指过程与确定后继指令地址)。

该指令的含义是：进行减法操作，源操作数地址和目的操作数地址分别在寄存器 R1 和 R2 中，目的操作数寻址方式为自减型寄存器间接寻址。

- **答案**：宏观上，这条指令的操作为：`(R2)-1 -> R2`，`((R1)) - ((R2)) -> M(R2)`，数据通路为

  ```
  取指: (PC) -> MAR; M(MAR) -> MDR, (MDR) -> IR, (PC)+1 -> PC;
  取被减数: (R1) -> MAR, M(MAR) -> MDR, (MDR) -> C;
  取减数: (R2)-1 -> R2, (R2) -> MAR, M(MAR) -> MDR, (MDR) -> D;
  减法: (C)-(D) -> MDR;
  写回: (MDR) -> M(MAR);
  ```

- **我的**：减完没有写回存储器；
- **解析**：注意以下几点
  - **自减型**：指从 R2 得到 EA 后，要先自减，再拿去主存寻址（**读和写都是一样**）；
  - ALU 运算可以写简单一点，不用把 ALU 控制信号赋值也写进来；
  - 注意题目中说的 **目的操作数地址存放在 R2 中，目的操作数寻址方式为自减型寄存器间接寻址**；
    - 目的操作数即减法完成后写回的目标；
    - 此处说了是寄存器间接寻址，所以减法完了要写回存储器，因为前面已经自减并把地址放到 MAR，就不用再放一遍了；

#### 5.

某 CPU 执行指令 `LOAD R0, (X)` 的流程图如图所示

![img](https://lian.koolearn.com/upload/image/1501554195832.png)

若 `X` 自身也是间接寻址，给出新的流程图；

- **答案**：

  ![img](https://lian.koolearn.com/upload/image/1501554226759.png)

- **我的**：直接在原来的流程图上加了三步 `(R0) -> MAR, M(MAR) -> MDR, (MDR) ->R0`，比答案**多了一步**；

- **解析**：变为二次间接寻址，而且是连续寻址，故可以简化，**MDR 读出来之后直接送 MAR 即可，不需要再经过 R0**；

#### 6.

单总线CPU 结构以及数据通路如下图所示，其中MAR为地址寄存器，MDR为数据寄存器，MEM 为主存储器，R0~R3为通用寄存器。PSW 为状态寄存器，Y、Z为暂存寄存器，PC为程序计数器，IR为指令寄存器。请用寄存器级传送形式设计下列指令执行的分步流程(包括取指令阶段)。

![img](https://lian.koolearn.com/upload/image/1501554498957.png)

- **注意**：图中 ALU **只连了暂存器 Z**，所以**算术运算完要先存到 Z，不能直接存回 R！**

### 六、IO 系统

#### 1.

在下列问题中，哪一个不是设备分配中应考虑的问题（ ）？

- A. 及时性
- B. 设备的固有属性
- C. 设备无关性
- D. 安全性
- **答案**：A
- **我的**：C
- **解析**：
  - A. 及时性是设备之间通信应该实现的，和分配没关系；
  - B. 要考虑；
  - C. 为实现设备无关系，OS 要分配逻辑设备，建立物理设备和逻辑设备的对应关系；
  - D. 要考虑；

#### 2.

在调试程序过程中，可以把所有输出结果送到屏幕显示，而不必正式输出到打印设备，其运用了（ ）技术？

- A. Spooling
- B. IO重定向
- C. 共享
- D. 缓冲
- **答案**：B；
- **我的**：A；
- **解析**：
  - C, D 显然不对；
  - A. Spooling 通常是采用缓冲区实现独占设备的共享（实现一个物理设备虚拟出多个逻辑设备），和打印到屏幕无关；
  - B. 这里将输出从打印机控制进程改到了其他进程（如控制台），显示到屏幕上，属于 IO 重定向；

#### 3.

在某计算机系统中，其屏幕显示分辨率为1280×900，采用RGB彩色模型显示，若要存储一屏256彩色的图像，需要多少显存？若采用32位真彩色显示，需要多少显存？

- **答案**：1152000B，4608000B；
- **我的**：3375KB，13500KB（3 倍）；
- **解析**：错误理解了 RGB 的存储方式。题目中说 256 彩色的意思是，一个像素点由 256 位表示，**而不是 3 通道 256 位**；
  - **3 通道 256 位叫做 24 位真彩色**；

#### 4.

某操作系统中采用单缓冲传送外设数据。设从外设将数据传送到缓冲区所用时间为T1，将缓冲区数据传送到用户进程内存所用时间为T2，CPU处理数据所用时间为T3，问系统处理该数据所用总时间为多少？

- **答案**：$\max(T_1,T_3)+T_2$；
- **我的**：$2T_1+2T_2+T_3$；
- **解析**：见操作系统第五章第二节 1.2（单缓冲区），**此处回忆一下**
  - **缓冲区机制**：1）缓冲区空时，不能取，可以存，**但是必须存满之后才能开始读取**，2）缓冲区非空时，不能存，可以取，**必须取出所有数据，清空缓冲区，才能再次存入**；
  - 由缓冲区机制可知
    - 读写数据时不一定是一整块，而是**以缓冲区大小为单位的**；
    - **缓冲区向 CPU 传输数据时，CPU 不能处理数据，外设也不能向缓冲区放入数据**；
    - **CPU 处理数据时，不会读缓冲区，所以外设可以同步进行写缓冲区**（并行）；
  - 所以
    - $T2$ 必须完整花费，因为缓冲区向 CPU 写数据不能并行；
    - 若 $T1 < T3$，**即外设传输数据的速度比 CPU 处理速度快**，则每个缓冲存取周期，**外设都会等 CPU 一段时间**（CPU 处理完之后才能从缓冲区读数据，读完之后外设才能接着写数据），**此时外设存数据是包含在 CPU 处理数据之内的**，所以总时间为 $T2+T3$；
    - 若 $T1 > T3$，则反之亦然。CPU 会等外设把缓冲区写满，然后才开始读取和处理。**CPU 读完开始处理后，外设才能接着写**，CPU 处理数据的时间包含在外设存数据的时间之内，所以总时间 $T1+T2$；
  - **总结：总时间 $\max(T_1,T_3)+T_2$，单缓冲区结论；**
