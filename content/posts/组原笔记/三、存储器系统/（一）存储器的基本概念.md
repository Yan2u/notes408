---
title: （一）存储器的基本概念
date: 2025-03-14T10:43:14.030739+08:00
tags: ['组原笔记', '三、存储器系统']
author: "Yan2u"
ShowReadingTime: true
ShowBreadCrumbs: true
ShowPostNavLinks: true
showToc: true
TocOpen: false
ShowWordCount: true
UseHugoToc: true
---

### 1. 存储器系统概述

#### 1.1. 按存储介质分类

- **半导体存储器**：TTL，MOS，
- **磁表面存储器**：磁盘，磁带，磁鼓；
- **磁芯存储器**：硬磁材料、环状元件；
- **光盘存储器**：激光和磁光材料；
- 特点
  - 半导体存储器：**易失：断电后丢失信息**；
  - 其他类型：**非易失，断电后信息可以保持**；

#### 1.2. 按存取方式分类

- **随机存储器**：存取所需时间与物理地址无关（随机访问）；
  - **随机读写存储器 RAM**：程序运行时可读可写；
    - 主要用于**主存、高速缓存**；
    - 可以用**存储周期**来表示其速度；
  - **只读存储器 ROM**：固化后，程序运行时**只读**；
    - 通常保存一些重要信息（系统文件）；
- **串行存储器**：存取所需时间与物理地址有关（串行访问）；
  - 顺序存储器（磁带）：只能按某种方式存取，存取速度慢；
  - 直接存储器（磁盘）：寻道类似随机访问，道内寻址类似顺序访问。速度介于上述二者之间；

### 2. 存储器的层次结构

#### 2.1. 存储器指标

- 3 个重要指标：**速度、容量、每位价格**；
- **存储容量** = 存储字长 * 存储字数；
- **单位成本**（每位价格）= 总成本 / 存储容量；
- **存储速度**（数据传输率）= 数据带宽 / 存储周期；
- 一般来说：速度越快，单位价格越高、容量越大，单位价格越低、容量越大，速度越低；

#### 2.2. 存储器的层次结构

- 速度—容量层次（金字塔型）；
    ![image-20250313224235656](https://cloudflare-imgbed-ajc.pages.dev/file/1741876970425_image-20250313224235656.png)

- 缓存—主存和主存—辅存层次；

    ![image-20250313224712374](https://cloudflare-imgbed-ajc.pages.dev/file/1741877248269_image-20250313224712374.png)

### 3. 半导体随机存储器（RAM）

- 随机存取存储器（Random Access Memory，RAM）：与CPU直接交换数据的内部存储器。它可以随时读写，而且速度很快；
- 通常作为操作系统或其他正在运行中的程序的临时数据存储介质；
- 分类：**1）静态 RAM（SRAM），2）动态 RAM（DRAM）**；

#### 3.1. 静态 RAM

- 存储单元：**双稳态触发器**

- 用**六个 MOS 管**来存储 1 bit；

- **非破坏性读出**：信息被读出以后仍然保持，不需要再生或重写；

- **特点**：稳定，其结构简单，可靠性高，**速度较快**；


#### 3.2. 动态 RAM

- **原理**：用电容存储电荷和释放电荷，电容上有足量电荷表示 1，否则 0；

- 常见类型：**三管式和单管式**；

- **破坏性读出**；

- **再生**（刷新）
  
  - 一般来说，电容上的电荷**在 1-2ms 内会自动消散**；
  - 因此必须要在 2ms 之内对存储单元进行恢复（充电），称为再生操作（刷新）；
  - DRAM 采用**读出**的方式进行刷新，即**一次刷新的时间 $t_R$ 与存储周期 $t_C$ 相同**；
  - 刷新的单位是**行**（设存储单元为二维矩阵排布）；
  - 刷新操作**不受外部控制**；刷新时，CPU 无法访问存储器；
  
- DRAM 刷新的方式：**1）集中刷新，2）分散刷新，3）集中 + 分散刷新**；

  - **集中刷新**：刷新间隔内，前面一段时间集中读写，**最后一段时间停止读写，集中刷新**；

    ![image-20250313232158049](https://cloudflare-imgbed-ajc.pages.dev/file/1741879327776_image-20250313232158049.png)

    - **死亡时间**：最后 128 个周期共 64μs **无法访存**，称为死亡时间；

  - **分散刷新**：**存取周期加倍**，前半部分用于访存，后半部分刷新；

    ![image-20250313232451346](https://cloudflare-imgbed-ajc.pages.dev/file/1741879510637_image-20250313232451346.png)

    - **优点**：没有死亡时间；
    - **缺点**：存取周期变长，会使得 CPU 闲置时间变长，**CPU 利用率下降**；

  - **分散刷新 + 集中刷新**：将每行的刷新**均摊到 2ms 的刷新周期**内；

    - 假设芯片 128×128，存取周期 $t_C$ 为 0.5 μs，刷新周期 2ms；
    - 则**每行每隔 2ms/128 = 15.6μs 刷新一次**，某行刷新不影响其他行访存；
    - 死亡时间变为单行的刷新时间，即 0.5 μs；


#### 3.3. SRAM v.s. DRAM

- 共同点：都是易失性存储器；

- **区别**

  |            | DRAM |     SRAM     |
  | :--------: | :--: | :----------: |
  |  存储原理  | 电容 | 双稳态触发器 |
  |   集成度   |  高  |      低      |
  |  芯片引脚  |  少  |      多      |
  |    功耗    |  低  |      高      |
  |    价格    |  低  |      高      |
  |    速度    | 较慢 |     较快     |
  |    再生    | 需要 |    不需要    |
  | 破坏性读出 |  是  |      否      |

#### 4. 只读存储器 ROM

#### 4.1. 分类

- **掩模 ROM**（MROM）；
- **一次性编程 ROM**（PROM）；
- **可擦可编程 ROM**（EPROM）：一次性全部擦除，需要用紫外线擦洗；
- **多次可擦可编程 ROM**（EEPROM）：电可擦写，可局部也可全局擦写；
- **闪存 Flash Memory**：基于 EPROM 与 EEPROM，但原理不同。其读写一般以块为单位；
  - 注意 1：闪存 FM **不属于随机存储器（RAM）**，属于 ROM，但 FM 具备 RAM 的功能；
  - 注意 2：FM 的**读写速度不同**（读速度 > 写速度，对于绝大多数存储器都成立）；



